<?xml version="1.0" encoding="UTF-8"?>
<opml version="2.0">
  <head>
    <title>More lessons from the six box toy experiment[^1]

[^1]: Addendum to [arXiv:1612.05292]{}.</title>
    <abstract>Following a paper in which the fundamental aspects of probabilistic
inference were introduced by means of a toy experiment, details of the
analysis of simulated long sequences of extractions are shown here. In
fact, the striking performance of probability-based inference and
forecasting, compared to those obtained by simple ‘rules’, might impress
those practitioners who are usually underwhelmed by the philosophical
foundation of the different methods. The analysis of the sequences also
shows how the smallness of the probability of what has actually been
observed, given the hypotheses of interest, is irrelevant for the
purpose of inference. </abstract>
  </head>
  <body>
<outline text="Introduction" _note="For years I have been using a toy experiment for introducing probabilistic reasoning. Irrespective of whether my audience has been of professional physicists and engineers,[^1] high school students, teachers and general public,[^2] or even managers and senior officers attending a decision-making school,[^3] this toy model has always been an “eye opener”. This is how it was defined by the editors of a special issue of the American Journal of Physics,[^4] in which this ‘experiment’ was first published .  A thorough description of the game, and what can be learned from it, is given in Ref. . In particular, in that paper I explain the reasons why I do not let anyone see the balls in the box. At most we can make simulated extractions, in which we can ‘almost’ see the game from the God’s perspective: we know the box composition with certainty, and give a superior smile at the algorithm that is trying to guess it. ‘Almost’, because we remain uncertain about the color of future extractions.  Let us see then what we can learn from simulations. Firstly, in order to allow readers to reproduce the results, details of the simulation are given in Section 2. For this reason, as examples of how to generate and analyze the sequences, R commands are given. In Sections 3-5, some sequences are analyzed in detail. Whenever possible, the numbers obtained from the probability theory algorithm are compared with those resulting from ‘simple rules’. But, as made clear in Section 6, this is not always possible. Finally, in Section 7, I emphasize the fact that most real life cases – as random sequences of black and white balls extracted from a box are – might have ‘astronomically’ small probabilities of occurrence, given the hypotheses of interest. But, nevertheless, the smallness of each conditional probability is irrelevant for the inference. Instead, what matters are their ratios and the relative prior beliefs of the different hypotheses.  [^1]: See e.g. &lt;http://indico.cern.ch/event/419045/&gt; and     &lt;http://www.roma1.infn.it/~dagos/prob+stat.html#cern05&gt;;     &lt;http://2015.imtc.ieee-ims.org/content/tutorials&gt; and     &lt;http://www.roma1.infn.it/~dagos/prob+stat.html#IEEEPisa&gt;.  [^2]: See e.g. &lt;http://www.lnf.infn.it/edu/openlabs/2016/conference.php&gt;     and     &lt;http://orientamento.matfis.uniroma3.it/fisincittastorico.php#dagostini&gt;     (in Italian).  [^3]: See e.g.     &lt;http://www.pangeaformazione.it/en/training/decision-making-school.html&gt;.  [^4]: &lt;http://stp.clarku.edu/ajp_contributors.html&gt;.">
</outline>
<outline text="Simulated sequences" _note="Thousand extractions from each of the boxes , and (Fig.  ), since we can form an idea of what happens from the others just by (anti-)symmetry. The R code to generate and analyze the sequences is based on that shown in Footnote 31 of , but we report here also the inferential story as the extractions go on. Moreover, for the benefit of the reader, who can then check the details of the results the ‘seed’ of the random generator is given, equal to 20160715, for the date of the talk upon which this paper is based (no special, fancy sequences have been cherry-picked).  Here are the four lines of R code to make initializations and extractions (‘0’ for Black and ‘1’ for White):[^1]\ `N = 5; i = 0:N; pii = i/N; n = 1000; set.seed(20160715)`\ `seq.B0 = rbinom(n, 1, pii[1])`\ `seq.B1 = rbinom(n, 1, pii[2])`\ `seq.B2 = rbinom(n, 1, pii[3])`\ Later, in order to have a feeling of the performances of the method,[^2] we can split the sequences in ‘runs’ of 100 extractions and analyze them independently.  [^1]: The csv files of the sequences analyzed here can be downloaded     from &lt;http://www.roma1.infn.it/~dagos/prob+stat.html#addendum_ME&gt;,     and then loaded in a R session by e.g.     `seq.B0 = as.vector( read.csv(&quot;seq_B0.txt&quot;)$x )`.  [^2]: I you wish and it helps you, you might think of the ‘propensity’     of the algorithm to produce some numbers rather then others.">
</outline>
<outline text="Box" _note="The runs from will obviously be all equal, since that composition can only produce 0’s (Black), and therefore only the first run is shown (Fig.  ).  We see (upper plot) that as we continue to observe Black our confidence that we have ‘picked’ steady increases. is obviously ruled out from the very beginning, while the probability we [HAVE TO]{} assign the compositions having both colors decreases exponentially with the increasing number of extractions (note the log scale in the ordinates).[^1] After 100 extractions the probability of differ from unity by about , essentially the probability of , while all others are less probable by tens of orders of magnitude.[^2] So, we are [PRACTICALLY CERTAIN]{} about – but those who only like certainty have to remember that [OUR ONLY CERTAINTY IS THAT IS RULED OUT]{}.  The lower plot of Fig.   shows, instead, the probability of White in a next extraction, that is (blue circles). Its exponential decrease results from the exponential decrease of , for .[^3] Thus after 100 Black in a row we become ‘practically certain’ to observe Black in the 101-th extraction, being the probability of White only – but yet [NOT IMPOSSIBLE!]{}[^4] (If you think that very improbable events do not occur in real life, then wait for Appendix B.)  For comparison we could show in the same plot also the relative frequency of White in the extractions, as we shall do with the simulations from the other boxes, but, since in this case it is always zero, it is of little interest, and anyway not representable in a log scale. It is, instead, more interesting, the probability evaluated ([INCORRECTLY]{}!) applying the Laplace rule of succession (Equation 15 of Ref. ), that in this case becomes , and, by complement for Black. As we can see, the performance is rather poor.  However is not Laplace to be wrong[^5], but rather those who would use his formula a-critically, without understanding the assumptions behind it, which were discussed in detail in the text. In our specific case, as it might be in important cases of real life, the prior of the propensity of the box to give White was not uniform between between 0 and 1. We had instead only six possible values, and the full calculation takes into account of the real situation.[^6] For this reason the name of Laplace is in quote marks in the legends of the figures, to mean “misused Laplace rule.”  [^1]: The reason is quite simple, with the approximation being valid for     ‘large’ values of (and for ):  ,  [^2]: More precisely, executing the R command of Footnote 31 of Ref.     with `ri=0` we get\     `[1] 1.000000e+00 2.037036e-10 6.533186e-23 1.606938e-40 1.267651e-70`  [^3]: In fact, using the result of Footnote  ,     With we obtain , or 1 in 25 billions (remember that ‘who’ analyses     the sequence does not know the real content of the box.)  [^4]: You can evaluate this probability also using the of R code in     Footnote 31 of Ref. remember to change the first `sprintf()` format,     for example with `%.15f` or `%.5e`. The results are ‘numerically’     the same.  [^5]: This is, for example, verbatim what he wrote concerning his too     much misunderstood probability of the sun rising tomorrow: “[ON     TROUVE AINSI QU’UN ÉVÉNEMENT ÉTANT ARRIV‘’E DE SUITE, UN NOMBRE     QUELCONQUE DE FOIS; LA PROBABILITÉ QU’IL ARRIVERA ENCORE LA FOIS     SUIVENTE, EST ÉGALE À CE NOMBRE AUGMENTÉ DE L’UNITÉ, DIVISÉ PAR LE     MÊME NOMBRE AUGMENTÉ DE DEUX UNITÉS.]{}   [EN FAISANT, PAR     EXAMPLE, REMONTER LA PLUES ANCIENNE ÉPOQUE DE L’HISTOIRE, À CINQ     MILL ANS, OU À 1826213 JOURS, ET LE SOLEI S’ÉTANT LEVÉ CONSTENMMENT     DANS CET INTERVALL, À CHAQUE RÉVOLUTION DE VINGHT-QUATRE HEURES; IL     Y A 1826214 À PARIER CONTRE UN, QU’IL SE LEVERA ENCORE DEMAIN. [MAIS     CE NOMBRE EST INCOMPARABLEMENT PLUS FORT POUR CELUI QUI CONNAISSANT     PAR L’ENSEMBLE DES PHÉNOMÈNES, LE PRINCIPE RÉGULATEUR DES JOURS ET     DES SAISONS, VOIT QUE RIEN , NE PEUT EN ARRÊTER LE COURS.]{}]{}”       (italics and underline mine) . Great Laplace!     (And please note once more the probability expressed in terms of a     virtual coherent bet.)    [^6]: I have called the attention several times in the past (e.g. ) that     prior-less methods are not by default ‘objective’ because “they do     not use priors.” On the contrary, it is possible to show that there     are in most cases hidden (most times) uniform priors, like in the     result of the so called maximum-likelihood method of the     statisticians (see e.g. ).">
</outline>
<outline text="Box" _note="The analysis of the sequences from box (and, by symmetry, from ) is in general the most interesting and instructive, because the probabilities calculated using probability theory, taking into account all the available information properly, differ quite a lot from those obtained using intuitive heuristics, or from ‘prescriptions’ based on improper use of theoretical results not fully understood (see Footnote  ). Figures  ,   and   show the results of the inferences and of the (probabilistic) predictions based on three sequential runs of 100 extractions each.  Each story is peculiar, as real life situations are, and we see that – in the simulations we know the ‘truth’ – the method based on probability theory, and which take into account at best all available information, performs [MUCH BETTER]{} than the others.  It is worth remembering that all real cases are [UNIQUE]{} and we can only rely on the quality of the methods, as well as of the data and all relevant information. As someone says (reference missing), in the Bayesian analysis “the result is the result.” For example, in the first part of sequence on which of Fig.  is based, and seemed practically equally likely, and, as consequence, the probability of White in the next extraction was in between 1/5 and 2/5. That’s all. This the best we could say at that moment, but as soon as the overall relative frequencies of White approaches 20% (frequencies are reported as black triangles in the lower plot) there as a kind of ‘attraction’ from : its probability suddenly rises, and the probability of White approaches rapidly 20%. Once balls of both colors are observed, if the relative frequency of observed White goes under 20% the effect of ‘attraction’ gets more enhanced, because the next possibility, related to box , is too far.[^1]  Also interesting is run 3 (Fig. ), characterized by 16 black in a row.[^2] As a result, for a while we believed stronger and stronger we had picked up , and thus the probability of White in the next extraction was (exponentially) decreasing. resulting in small probability of White in the next extraction. Than, suddenly, we observe White, and the probability of instantly drops to zero,[^3] while the probability jumps practically at 100% and that of a next White at 20%.[^4] It is nice, and instructive, to observe that from this extraction on, will always be [SLIGHTLY ABOVE 20%]{}. Those who have a biased mind would speak about a ‘biased estimator’. In reality, it is a just logical consequence of the fact that, once we have ruled out , the probability of White in a future extraction, weighted average of all possible values of the propensity of the box to give White, [HAS TO BE]{} slightly above the minimum possible value of propensity, that is 1/5. The frequency based value, as well as that from the [ LAPLACE RULE]{}, remains quite for a while below 20%, and than oscillates around it, in contradiction with the fact that has been definitively ruled out.  You might object that after a very long sequence also the other evaluations will eventually ’converge’ (see Footnote 28 of Ref. for remarks on the precise meaning of this term in probability theory), but, as it as been famously said, “[IN THE LONG RUN WE ARE ALL DEAD]{}.”[^5] Let us see what happens if we analyze the full sequence of 1000 extractions (Fig.  ).  The frequency based evaluations of the next observation is still oscillating around 20%, while that obtained from probability theory approaches 1/5 (from above!) by  .  [^1]: No esoteric meaning is attached to the term ‘attraction’. It is     just because the next possible value of propensity, 4/5 of box , is     “too far” – see Appendix B.  [^2]: But if you check the file you will see that there were already 11     Black just before, summing thus to 27 Black in a run (and, after 2     White, other 6 Black follow). It simply happened, and for this     reason I would like to insist on the worries already expressed in     Footnote 28 of Ref. , i.e. interpreting probabilistic statements as     pedantic regularities.  [^3]: I am sorry for those who dislike discontinuities, but a crucial     single (solid) experimental information can change dramatically our     vision of the world, as it happens to those who suddenly learn that     their quite and polite neighbor was indeed a serial killer keeping     rests of human bodies in his fridge.  [^4]: More precisely,\     `&gt; N=5; i=0:N; pii=i/N; n=17; x=1`\     `&gt; ( PBi =  pii^x * (1-pii)^(n-x) / sum( pii^x * (1-pii)^(n-x) ) )`\     `[1] 0.000000e+00 9.803047e-01 1.965040e-02 4.487479e-05 9.129799e-10`\     `&gt; sum( pii * PBi )`\     `[1] 0.203948`  [^5]: &lt;https://en.wikiquote.org/wiki/John_Maynard_Keynes#Quotes&gt;">
</outline>
<outline text="Box" _note="Let us conclude this round up by also showing the results of the analysis of three runs and of the complete sequence from the box (Figures  ,  ,   and  )  without further comments, besides that in probabilistic matter, as in real life, the German dictum “einmal ist keinmal” applies.">
</outline>
<outline text=": Bayesian vs frequentistic evaluations" _note="After having seen the comparisons of the evaluations of probabilities of White in a future extraction, someone would like to see something similar concerning the probability of the different box compositions in the light of the observed sequence. But he/she will be disappointed to learn that such a comparison is simply impossible because [FREQUENTISTS PROHIBIT THE VERY CONCEPT OF]{} . That’s all, Sorry! (And I am sorry for you, if you thought you were a frequentist, but, nevertheless, you also thought that such a probability had a meaning – see and references therein for details).\ \ ">
</outline>
<outline text="Most of our observations &lt;span&gt;HAD&lt;/span&gt; very small chance to occur" _note="An important misconception about probability is to confuse the probability of the effect given a given hypothesis with the probability of that hypothesis given the observed effect. The name “prosecutor fallacy”, with which this logical error is often designed gives, by itself, an idea of its relevant importance in real life.[^1] Continuing with the style of this paper, I would like to touch this point using the third run of the sequence from box (Fig.  ), which I find particular instructive. We shall analyze what we have learned after the 16th, the 17th and the 100th extraction, also giving the details of the calculations in R, which start with the usual initialization (`N=5; i=0:N; pii=i/N`):  [ (run 3):]{} At the beginning we had 16 black in a row, resulting on the following probabilities:\ [ `&gt; n=16; x=0; ( PBi =  pii^x * (1-pii)^(n-x) / sum( pii^x * (1-pii)^(n-x) ) )`\ `[1] 9.723559e-01 2.736939e-02 2.743123e-04 4.176237e-07 6.372432e-12`\ `&gt; sum( pii * PBi )`\ `[1] 0.005583852`\ ]{} We are 97% confident to have got , 2.7% to have got , and so on. On the other hand, the probabilities to get “0 white in 16 trials” – be careful, I am trying to fool you – under the different hypotheses are , that is\ [ `&gt; ((5-i)/5)^16`\ `[1] 1.000000e+00 2.814750e-02 2.821110e-04 4.294967e-07 6.553600e-12 0.000000e+00` ]{}\ So it seems than that the small probability to is due to the small probability to get the ‘observation’ from ; and similarly with the other boxes which contain white balls.  [ (run 3):]{} Here is what happened after the next extraction, in which we observe White:\ [ `&gt; n=17; x=1; ( PBi =  pii^x * (1-pii)^(n-x) / sum( pii^x * (1-pii)^(n-x) ) )`\ `[1] 0.000000e+00 9.803047e-01 1.965040e-02 4.487479e-05 9.129799e-10  0.000000e+00`\ `&gt; sum( pii * PBi )`\ `[1] 0.203948` ]{}\ What is, instead, the probability of the observation, subject to the different compositions? You might think at binomial distributions resulting in 1 success in 17 trials, with probabilities given by , that is\ [ `&gt; dbinom(x, n, pii)`\ `[1] 0.000000e+00 9.570149e-02 1.918355e-03 4.380867e-06 8.912896e-11 0.000000e+00` ]{}\ However, this is not we have really observed, but just [ITS SUMMARY]{}. The observation was indeed [THE]{} sequence! And the probability of the sequence is quite different:[^2]\ [ `&gt; pii^x * (1-pii)^(n-x)`\ `[1] 0.000000e+00 5.629500e-03 1.128444e-04 2.576980e-07 5.242880e-12 0.000000e+00` ]{}  [ (run 3):]{} As it easy to predict, the difference becomes ‘dramatic’ for very large values of . Having observed 18 White in 100 extractions, these are the probabilities of the hypotheses:\ [ `&gt; n=100; x=18; ( PBi =  pii^x * (1-pii)^(n-x) / sum( pii^x * (1-pii)^(n-x) ) )`\ `[1] 0.000000e+00 9.999851e-01 1.491273e-05 8.011548e-17 2.938692e-39 0.000000e+00` ]{}\ to be compared with the probability of 18 successes in 100 trials for the different boxes:\ [ `&gt; dbinom(x, n, pii)`\ `[1] 0.000000e+00 9.089812e-02 1.355559e-06 7.282455e-18 2.671256e-40` ]{}\ But the conditional probabilities of what we have really observed are now strikingly different:\ [ `&gt; pii^x * (1-pii)^(n-x)`\ `[1] 0.000000e+00 2.964277e-21 4.420612e-26 2.374881e-37 8.711229e-60  0.000000e+00` ]{}\ But indeed, the fact that this sequence [HAD]{} [CHANCE]{} (really in the sense of a propensity) to occur from [IS ABSOLUTELY IRRELEVANT]{}. What matters is only this probability with respect to those from the other boxes. Indeed the respective conditional probabilities provide the Bayes-Turing factors for every pair of hypotheses. And therefore, since [IN OUR TOY EXPERIMENT]{} the different compositions were initially [EQUALLY LIKELY]{}, we get odds of vs of ; vs and and , respectively. These are the numbers that matter.  At this point I hope the lesson is clear, without you need to be further impressed with the numbers that we would get analyzing the full sequence of 1000 extractions:  that fact that we can make our inference and prediction based on the number of trials and the number of successes it is because these [SUMMARIES]{} are [‘SUFFICIENT’]{} for the purpose of the inference (and forecasting); but the real [OBSERVATION]{} is the sequence;  most of the fact of real life [HAD]{} very little chance to occur, if we analyze them with enough accuracy. But this implies little on the probabilities of the cause that might have produced them. What matters are the ratio of conditional probabilities: .  [^1]: See e.g.     &lt;http://www.agenarisk.com/resources/probability_puzzles/prosecutor.shtml&gt;.     This fallacy is somehow similar to the misinterpretation of     ‘p-values’ as probability of hypotheses (see and references     therein), but, even if the numbers are less impressive, the logical     fallacy of misinterpreting p-values is even worst, because the     erroneous conclusion is not based solely on the data, but also on     data less probable than those actually observed.  [^2]: The difference is due to the binomial coefficient, equal to 17 in     this case, for which we have to divide the previous numbers.">
</outline>
<outline text="Conclusions" _note="Having to evaluate probabilities of hypotheses and probabilities of occurrences of future events, unless you possess a crystal ball, it is hard to out-perform Bayesian reasoning, if it is used consistently, and all the available pieces of information are properly taken into account. But the lesson which comes from playing with the simulated sequences goes beyond the demonstration of the power of the so called Bayesian methods.  For example I find it important that, in the training of [PROBABILISTIC THINKING]{}, people should be exposed to the rich variety of what can occur randomly. And, therefore, most events of real life [HAD]{} very little chance to occur. Think, for example, at a given configuration of light content in pixels, when you shoot a picture with a digital camera. More simply, and easier to calculate, consider a number to twelve decimal places that can come from a Gaussian random number generator, like that obtained with the following R commands:\ [ `&gt; options(digits=14); set.seed(20160715); nd=12; dxm=10^(-nd)/2`\ `&gt; (xr=round(rnorm(1), nd)); as.double(sprintf(&quot;%.2e&quot;, dnorm(xr,) * 2 * dxm))`\ `[1] 1.479427401471`\ `[1] 1.34e-13`\ `&gt; (xr=round(rnorm(1), nd)); as.double(sprintf(&quot;%.2e&quot;, dnorm(xr,) * 2 * dxm))`\ `[1] -0.762658301757`\ `[1] 2.98e-13` ]{}\ (Yes, every time you repeat this line of code you will observe, [WITH CERTAINTY]{}, numbers which [HAD]{} about 1-in-trillions chance to occur! And they all come with probability 1 from a Gaussian random generator with and and )  The reason I insist on these apparently trivial considerations is that I have seen too often in the past, and even quite recently, attempts of indoctrinating people with ‘statistical regularities’. These attempts imply a misinterpretation of probability theorems and, at the same time, a refusal of the concept of a single event probability. Instead, not only degrees of beliefs apply to single events, but also propensities, if we reflect on the fact that a propensity might change with time .">
</outline>
<outline text="Acknowledgements" _note="This work was partially supported by a grant from Simons Foundation which allowed me a stimulating working environment during my visit at the Isaac Newton Institute of Cambridge, UK (EPSRC grant EP/K032208/1). It is a pleasure to thank Paolo Agnoli of Pangea Formazione, for discussions on probabilistic matter, always with some philosophical flavor, encouragements to go ahead with the six box toy experiment, and for comments on the manuscript, which has also benefitted of comments by Patricia Wiltshire.  [ref99]{}  G. D’Agostini, [“TEACHING STATISTICS IN THE PHYSICS CURRICULUM. UNIFYING AND CLARIFYING ROLE OF SUBJECTIVE PROBABILITY”]{}, [Am. J. Phys]{}. [**67**]{} (1999) 1260  .  G. D’Agostini, [PROBABILITY, PROPENSITY AND PROBABILITIES OF PROPENSITIES (AND OF PROBABILITIES)]{}, &lt;https://arxiv.org/abs/1612.05292&gt;.  P.S. Laplace, [ESSAI PHILOSOPHIQUE SUR LES PROBABILITÉS]{}, 1814, (English quotes from A.I. Dale’s translation ([A PHILOSOPHICAL ESSAY ON PROBABILITIES]{}), Dover Publ. 1995.  G. D’Agostini, [BAYESIAN REASONING IN DATA ANALYSIS – A CRITICAL INTRODUCTION]{}, World Scientific 2003.  G. D’Agostini, [PROBABLY A DISCOVERY: BAD MATHEMATICS MEANS ROUGH SCIENTIFIC COMMUNICATION]{}, &lt;https://arxiv.org/abs/1112.3620&gt;.  G. D’Agostini, [THE WAVES AND THE SIGMAS (TO SAY NOTHING OF THE 750 GEV MIRAGE)]{}, &lt;https://arxiv.org/abs/1609.01668&gt;.">
</outline>
  </body>
</opml>