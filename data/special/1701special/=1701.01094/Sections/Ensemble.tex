In ensemble approach, we first find confidence of each prediction in both the cases(SBM and UTS) and then use these confidence values as weights for weighted ensemble. Given the probability distribution \{$p^l_{j,t}: t=1, 2,..., m_j\}$ for the values of $G_j$ using SBM model, we find the confidence corresponds to each probability as
\vspace{-7pt}
\begin{equation}
\scriptsize
 C(p^l_{j,t}) = 1 -  \sqrt{\sum_{t^{'}=1}^{m_j}(p^l_{j,t^{'}} - h^l_{t^{'}}(t))^2}, t=1,2...,m_j
 \vspace{-8pt}
\label{eq:conf}
\end{equation}
where $h^l_{t^{'}}(t)$ is the ideal distribution, which is 1 when $t = t^{'}$ and 0 otherwise.
% \begin{equation}
% \scriptsize
%  q_j = \begin{cases}
%         1 & p^l_{j,t} \\
%         0 & Otherwise
%        \end{cases}
% \label{eq:ideal}       
% \end{equation}
Similarly, we can find the confidence $C(q^l_{j,t})$ of each probability $q^l_{j,t}$.

With the given probability dist. and the confidence values from both models, we take weighted linear sum of two probabilities to get the new probability distribution over the states of {\scriptsize $G_j$: $P^l_{j,t} = C(p^l_{j,t}) \times p^l_{j,t} + C(q^l_{j,t}) \times q^l_{j,t}$, $t = 1,2,..., m_j$}
and we choose the value of $G_j$ for maximum $P^l_{j,t}$.
%  \begin{equation}
%  \small
%   g_j = \{v^l_{j,t}:  max\{P^l_{j,t}: t =1 ,2,...,m_j\} \}
%  \end{equation}

\textbf{CoP}: For every prediction, we assign the confidence value called confidence of prediction (CoP). CoP is a measure that helps to decide whether the predicted value is trustworthy or not. Given the probability distribution \{$P^l_{j,t}: l=1,2,...,m_j$\} for the values of $g_j$, we calculate the CoP of the predicted value $g^l_{j,t}$ of $G_j$ by using Equation~\ref{eq:conf}.

