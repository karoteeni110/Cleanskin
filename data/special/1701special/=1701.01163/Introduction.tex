\section{Introduction}
 A \textit{K\"ahler group} is a group that can be realised as the fundamental group of a closed K\"ahler manifold. The question of which finitely presented groups are K\"ahler was first raised by Serre in the 1950s and has driven a field of very active research since. While numerous strong constraints have been proved and examples of K\"ahler groups with a variety of different properties have been constructed, the question remains wide open. For a general background on K\"ahler groups see \cite{ABCKT-95}, for a more recent overview see \cite{Bur-10}. 

 While a general answer seems out of reach for the moment, it is fruitful to consider Serre's question in the context of more specific classes of groups. For instance, it has been shown that if the fundamental group of a compact 3-manifold without boundary is K\"ahler then it is finite \cite{DimSuc-09} (see also \cite{BisMjSes-12} and \cite{Kot-12-II}) and that a K\"ahler group with non-trivial first L2-Betti number is commensurable to a \textit{surface group} (i.e. the fundamental group of a closed Riemann surface) \cite{Gro-89}. Delzant and Py showed that if a K\"ahler group acts geometrically on a locally finite CAT(0) cube complex, then it is commensurable to a direct product of finitely many surface groups and a free abelian group \cite{DelPy-16}. 
 
 
 More generally, a close connection between K\"ahler groups acting on CAT(0) cube complexes and subgroups of direct products of surface groups has been observed starting with the work of Delzant and Gromov on cuts in K\"ahler groups \cite{DelGro-05} (see also \cite{Py-13, DelPy-16}). This led Delzant and Gromov to pose the question of which K\"ahler groups are subgroups of direct products of surface groups? Following the work of Bridson, Howie, Miller and Short \cite{BriHowMilSho-02, BriHowMilSho-09}, one knows that this question is intimately related to the question of finding K\"ahler groups which are not of \textit{finiteness type} $\mathcal{F}_r$ for some $r$, i.e. do not admit a classifying space with finite $r$-skeleton: any subgroup of a direct product of $k$ surface groups which is $\mathcal{F}_k$ is virtually a direct product of surface groups and finitely generated free groups.
 
 The first examples of K\"ahler subgroups of direct products of surface groups which are of type  $\mathcal{F}_{r-1}$ but not $\mathcal{F}_r$ ($r\geq 3$) were constructed by Dimca, Papadima and Suciu \cite{DimPapSuc-09-II}. Their class of examples has since been extended by Biswas, Mj and Pancholi \cite{BisMjPan-14} and by the author \cite{Llo-16-II}. All of these examples arise as kernels of surjective homomorphisms of the form $\pi_1S_{g_1}\times \cdots \times \pi_1 S_{g_r}\rightarrow \ZZ^2$ where $r\geq 3$ and $S_{g_i}$ is a closed Riemann surface of genus $g_i\geq 2$, $1\leq i \leq r$. Recently, examples of K\"ahler groups that are of type $\mathcal{F}_{r-1}$ but not of type $\mathcal{F}_r$, and which are not commensurable to any subgroup of a direct product of surface groups have been constructed by Bridson and the author \cite{BriLlo-16}. 
 
 This paper consists of three parts. In the first part (Section 2) we develop a new construction method for K\"ahler groups. The groups obtained from this method arise as fundamental groups of fibres of holomorphic maps onto higher-dimensional complex tori. In the second and third part we address Delzant and Gromov's question. In the second part (Sections 3 -- 5) we apply our construction method to provide K\"ahler subgroups of direct products of surface groups that are not commensurable with any of the previous examples. These arise as kernels of a surjective homomorphism onto $\ZZ^{2k}$ and are \textit{irreducible}, i.e. do not decompose as direct product of two nontrivial groups (even virtually). The examples constructed in this work significantly extend the range of irreducible full subdirect K\"ahler subgroups of direct products of surface groups: all previous examples of such K\"ahler subgroups of a product of $r$ surface groups are either virtually a product of surface groups and a free abelian group, or of type $\mathcal{F}_{r-1}$, but not of type $\mathcal{F}_r$. Here we produce irreducible examples of type $\mathcal{F}_k$ and not of type $\mathcal{F}_{k+1}$ for all $2\leq k \leq r-1$, hence covering the full range of possible finiteness properties \cite{BriHowMilSho-02, BriHowMilSho-09}. In the third part (Sections 6 -- 9) we give new constraints of K\"ahler subgroups of direct products of surface groups. In particular, we show that if a full subdirect product of $r$ surface group is K\"ahler of type $\mathcal{F}_k$ with $k> \frac{r}{2}$ then it is virtually the kernel of an epimorphism from the product of surface groups onto a free abelian group of even rank.
 


One says that a surjective holomorphic map $h: X\rightarrow Y$ between compact complex manifolds has \textit{isolated singularities} if the critical locus of $h$ intersects each fibre (preimage of a point) in a discrete subset. The key result in our construction method is Theorem \ref{thmFiltVerGen}, a special case of which is:
 
 \begin{theorem}
 Let $X$ be a compact complex manifold of dimension $n+k$ and let $Y$ be a complex torus of dimension $k$. Let $h:X\rightarrow Y$ be a surjective holomorphic map with connected smooth generic fibre $H$. Assume that there is a filtration
 \[
  \left\{0\right\} \subset Y^0\subset Y^1 \subset \cdots \subset Y^{k-1}\subset Y^k=Y
 \]
of $Y$ by complex subtori $Y^l$ of dimension $l$ such that the projections
\[
h_l=\pi_l\circ h: X\rightarrow Y/Y^{k-l}
\]
have isolated singularities, where $\pi_l: Y\rightarrow Y/Y^{k-l}$ is the holomorphic quotient homomorphism.

If $n=\mathrm{dim}H\geq 2$, then the map $h$ induces a short exact sequence 
\[
 1 \rightarrow \pi_1 H \rightarrow \pi_1 X \rightarrow \pi_1 Y= \ZZ^{2k}\rightarrow 1.
\]
Furthermore, we obtain that $\pi_i(X,H)=0$ for $2\leq i \leq \mathrm{dim}H$.
\label{thmFiltVer}
\end{theorem} 

Theorem \ref{thmFiltVer} and Theorem \ref{thmFiltVerGen} are generalisations of \cite[Theorem C]{DimPapSuc-09-II} and \cite[Theorem 2.2]{BriLlo-16}. We expect that our methods can be applied to construct interesting new classes of K\"ahler groups. Indeed we provide a first application in this work, by constructing new classes of K\"ahler subgroups of direct products of surface groups.

\begin{notation*}
Throughout this article $S_{g}$ will denote a closed hyperbolic surface of genus $g\geq 2$ and $\Gamma_{g}=\pi_1 S_{g}$ its fundamental group.
\end{notation*}

 \begin{theorem}
  Let $r\geq 3$ and $r-2\geq k \geq 1$ be integers and let $E$ be an elliptic curve (i.e. a complex torus of dimension one). For $1\leq i \leq r$ let $\alpha_i: S_{\g_i}\rightarrow E$ be a branched cover of $E$, with $\g_i\geq 2$ and assume that $\alpha_i$ is surjective on fundamental groups for $1\leq i \leq r$. Then there is a surjective holomorphic map 
  \[
   h: S_{\g_1}\times \cdots \times S_{\g_r}\rightarrow E^{\times k}
  \] 
  with smooth generic fibre $\overline{H}$ such that the restriction of $h$ to each factor $S_{\g_i}$ factors through $\alpha_i$. The map $h$ induces a short exact sequence
  \[
   1\rightarrow \pi_1 \overline{H}\rightarrow  \pi_1 S_{\g_1}\times \cdots \times \pi_1 S_{\g_r}\stackrel{h_{\ast}}{\rightarrow} \pi_1 E^{\times k} \cong \ZZ^{2k}\rightarrow 1
  \]
  and the group $\pi_1 \overline{H}$ is K\"ahler of type $\mathcal{F}_{r-k}$ but not of type $\mathcal{F}_{r-k+1}$. Furthermore, $\pi_1 \overline{H}$ is irreducible.
  \label{thmIntroA}
 \end{theorem}  

Here we use the notation $E^{\times k}=\underbrace{E\times \dots \times E}_{\mbox{$k$ times}}$ for the cartesian product of $k$ copies of $E$. The coabelian subgroups of direct products of surface groups form an important subclass of the class of all subgroups of direct products of surface groups. Indeed, in the case of three factors any finitely presented full subdirect subgroup of $D=\pi_1 S_{\g_1}\times \pi_1 S_{\g_2}\times \pi_1 S_{\g_3}$ is virtually \textit{coabelian}, i.e. contains the derived subgroup $\left[D_0,D_0\right]$ of some $D_0\leq D$ of finite index; with more factors any full subdirect subgroup is virtually conilpotent \cite{BriHowMilSho-13}. We will give a more detailed discussion of subgroups of direct products of surface groups in Section \ref{secNotProd}. 
 
We will see that the examples we construct to prove Theorem \ref{thmIntroA} are in some sense the generic class of examples with the property that the image of each factor in $E^{\times k}$ is an elliptic curve. As a consequence of Theorem \ref{thmIntroA} and its proof we obtain that there are indeed K\"ahler groups covering the full range of possible finiteness properties of irreducible full subdirect products of surface groups.
 
 \begin{theorem}
  For every $r \geq 3$, $\g_1,\cdots,\g_r\geq 2$ and $r-1\geq m\geq 2$, there is a K\"ahler subgroup $G\leq \Gamma_{\g_1}\times \cdots \times \Gamma_{\g_r}$ which is an irreducible full subdirect product of type $\mathcal{F}_m$ but not of type $\mathcal{F}_{m+1}$.
  \label{corthmIntroA}
 \end{theorem}

We will see that a modification of the construction used to prove Theorem \ref{thmIntroA} provides a second class of examples (see Theorem \ref{thmExtendedRange}). As a consequence we see that Theorem \ref{corthmIntroA} can also be proved by considering only holomorphic maps to a product of two elliptic curves. The reduction in dimension of the complex torus will come at the cost of loosing the genericity of the examples in Theorem \ref{thmIntroA}.

Conversely, we address the question of finding constraints on K\"ahler subgroups of direct products of surface groups, or more generally on K\"ahler groups that admit homomorphisms to direct products of surface groups. 

\begin{theorem}
\label{thmNewCoab}
 Let $G=\pi_1 X$ with $X$ compact K\"ahler and let $\phi: G \rightarrow \overline{G}$ be a surjective homomorphisms onto a subgroup $\overline{G}\leq \G_{g_1}\times \dots \times \G_{g_r}$. Assume that $\phi$ has finitely generated kernel and that $\overline{G}$ is full and of type $\mathcal{F}_m$ for $m\geq 2$.
 
 Then, after reordering factors, there is $s\geq 0$ such that, for any $k< 2m$ and any $1\leq i_1 < \dots < i_k\leq s$, the projection $p_{i_1,\dots,i_k}(\overline{G})\leq \G_{g_{i_1}}\times \dots \times \G_{g_{i_k}}$ is virtually coabelian of even rank. Furthermore, the center $\mathrm{Z}(\overline{G})= \overline{G} \cap \left(\G_{g_{s+1}}\times \dots \times \G_{g_r}\right)\leq p_{s+1,\dots,r}(\overline{G})\cong \ZZ^{r-s}$ is a finite index subgroup. 
\end{theorem}

Combining Theorem \ref{thmNewCoab} with a study of the first Betti number of coabelian subdirect products of groups in Section \ref{secFinPropBetti}, allows us to show that there are non-K\"ahler subgroups of direct products of surface groups with interesting properties.

\begin{corollary}
\label{corNewCoabExs}
 Let $G=\ker \psi$ for $\psi: \G_{g_1}\times \dots\times \G_{g_r}\rightarrow \ZZ^{2l+1}$ an epimorphism. Then $\ker \psi$ is not K\"ahler.
\end{corollary}



\begin{corollary}
 For $r\geq 6$ and $g_1,\dots,g_r\geq 2$ there is a non-K\"ahler full subdirect product $G\leq \G_{g_1}\times \dots \times \G_{g_r}$ with even first Betti number.
 \label{corExEvenB1Intro}
\end{corollary}










\subsection*{Structure:} 


This work is structured as follows: In Section \ref{secMainThm} we prove Theorem \ref{thmFiltVerGen}. In Sections \ref{secExamples} and \ref{secExCombined} we construct large new classes of K\"ahler subgroups of direct products of surface groups, which we use to prove Thereoms \ref{thmIntroA} and \ref{corthmIntroA}. In Section \ref{secNotProd} we show that these examples are irreducible, i.e. are not virtually direct products, and derive there precise finiteness properties. In Section \ref{secResCoabKGs} we study homomorphisms from K\"ahler groups to direct products of surface groups and show Theorem \ref{thmNewCoab} and Corollary \ref{corNewCoabExs}. In Section \ref{secSESCoab} we study the first Betti number of coabelian subgroups of direct products of groups and prove Corollary \ref{corExEvenB1Intro}. We apply the results of Section \ref{secFinPropBetti} to obtain additional constraints on homomorphisms from K\"ahler groups to direct products of surface groups. In Section \ref{secConsGens} we consider the universal homomorphism from a K\"ahler group to a direct product of Riemann orbisurfaces and we explain why our constraints apply to it.

 
\begin{acknowledgements*}
I am very grateful to my PhD advisor Martin Bridson for his generous support and the many very helpful discussions we had about the contents of this paper, and to Simon Donaldson for inspiring conversations about topics related to the contents of this paper.

This article is a fundamentally rewritten and extended version of arXiv:1701.01163v2. Some of the new material contained in this work is based on results from the authors PhD thesis. 
\end{acknowledgements*}